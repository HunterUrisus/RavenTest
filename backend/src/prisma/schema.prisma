generator client {
  provider = "prisma-client"
  output   = "../generated/prisma"
}

datasource db {
  provider = "postgresql"
}

model Estudiante {
  rut             String          @id
  nombre          String
  fechaNacimiento DateTime
  anoIngreso      Int
  expVideojuegos  String?
  respuestas      RespuestaItem[]
}

model Test {
  codTest     Int     @id @default(autoincrement())
  descripcion String?
  tiempoMax   Int?
  items       Item[]
}

model Item {
  idItem      Int             @id @default(autoincrement())
  resCorrecta Int
  dificultad  String?
  codTest     Int
  numero      Int
  serie       String
  test        Test            @relation(fields: [codTest], references: [codTest])
  respuestas  RespuestaItem[]
}

model RespuestaItem {
  id            Int        @id @default(autoincrement())
  rutEstudiante String
  idItem        Int
  respuesta     Int
  tiempo        Int
  esCorrecta    Boolean
  fechaIntento  DateTime   @default(now())
  item          Item       @relation(fields: [idItem], references: [idItem])
  estudiante    Estudiante @relation(fields: [rutEstudiante], references: [rut])
}
